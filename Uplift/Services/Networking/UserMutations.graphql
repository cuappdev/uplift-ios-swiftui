fragment userFields on User {
  id
  email
  name
  netId
  workoutGoal
}

fragment giveawayFields on Giveaway {
  id
  name
  users {
    ...userFields
  }
}

fragment reportFields on Report {
  id
  createdAt
  description
  gym {
    ...gymFields
  }
  gymId
  issue
}

mutation CreateUser($email: String!, $encodedImage: String, $name: String!, $netId: String!) {
  createUser(email: $email, encodedImage: $encodedImage, name: $name, netId: $netId) {
    ...userFields
  }
}

mutation LoginUser($netId: String!) {
  loginUser(netId: $netId) {
    accessToken
    refreshToken
  }
}

mutation RefreshAccessToken {
  refreshAccessToken {
    newAccessToken
  }
}

mutation EnterGiveaway($giveawayId: Int!, $userNetId: String!) {
  enterGiveaway(giveawayId: $giveawayId, userNetId: $userNetId) {
    id
    userId
    numEntries
  }
}

mutation CreateReport(
  $createdAt: DateTime!
  $description: String!
  $gymId: Int!
  $issue: String!
) {
  createReport(
    createdAt: $createdAt
    description: $description
    gymId: $gymId
    issue: $issue
  ) {
    report {
      ...reportFields
    }
  }
}
