fragment userFields on User {
  id
  email
  name
  netId
  workoutGoal
  reports {
    id
    createdAt
    description
    issue
    gym {
      ...gymFields
    }
    gymId
    userId
  }
}

fragment giveawayFields on Giveaway {
  id
  name
  users {
    ...userFields
  }
}

fragment reportFields on Report {
  id
  createdAt
  description
  gym {
    ...gymFields
  }
  gymId
  issue
  user {
    ...userFields
  }
  userId
}

mutation CreateUser($email: String!, $encodedImage: String, $name: String!, $netId: String!) {
  createUser(email: $email, encodedImage: $encodedImage, name: $name, netId: $netId) {
    ...userFields
  }
}

mutation LoginUser($netId: String!) {
  loginUser(netId: $netId) {
    accessToken
    refreshToken
  }
}

mutation RefreshAccessToken {
  refreshAccessToken {
    newAccessToken
  }
}

mutation EnterGiveaway($giveawayId: Int!, $userNetId: String!) {
  enterGiveaway(giveawayId: $giveawayId, userNetId: $userNetId) {
    id
    userId
    numEntries
  }
}

mutation CreateReport($createdAt: DateTime!, $description: String!, $gymId: Int!, $issue: String!, $userId: Int!) {
  createReport(createdAt: $createdAt, description: $description, gymId: $gymId, issue: $issue, userId: $userId) {
    report {
      ...reportFields
    }
  }
}
